{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"G:\\\\mern_app-main\\\\03 - Chat\\\\frontend\\\\src\\\\components\\\\auth\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { UserContext } from \"../../App\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\n\nconst Profile = () => {\n  _s();\n\n  const [fruits, setFruits] = useState([]);\n  const {\n    userData,\n    setUserData\n  } = useContext(UserContext);\n  useEffect(() => {\n    axios.get(\"/api/fruits\").then(response => setFruits(response.data));\n  }, []);\n\n  const userDelete = () => {\n    axios.delete(\"/api/users/profile\", {\n      headers: {\n        \"auth-token\": userData.token\n      }\n    }).then(window.location = \"/fruitlist\");\n    setUserData({\n      token: undefined,\n      user: undefined\n    });\n    localStorage.setItem(\"auth-token\", \"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"User Profile of \", userData.user.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"User ID: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), userData.user.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Register Date: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), userData.user.date.toString().slice(0, 10) + \" @ \" + userData.user.date.toString().slice(11, 19)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [\"Fruits Added by \", userData.user.name, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyleType: \"none\"\n      },\n      children: fruits.filter(fruit => {\n        if (fruit.addedBy === userData.user.name) {\n          return fruit;\n        }\n      }).map(fruit => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/fruit/${fruit._id}`,\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: fruit.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), \" \", \"(\", fruit.amount, \") - \", fruit.info, \"\\xA0[Added on\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            children: fruit.date.toString().slice(0, 10) + \" @ \" + fruit.date.toString().slice(11, 19)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), \"]\"]\n        }, fruit._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn btn-danger\",\n      onClick: userDelete,\n      children: \"Delete Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Profile, \"oxBH/GBB+X475KTnKn7cuSzHfPk=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["G:/mern_app-main/03 - Chat/frontend/src/components/auth/Profile.js"],"names":["React","useContext","useState","useEffect","UserContext","axios","Link","Button","Profile","fruits","setFruits","userData","setUserData","get","then","response","data","userDelete","delete","headers","token","window","location","undefined","user","localStorage","setItem","name","id","date","toString","slice","listStyleType","filter","fruit","addedBy","map","_id","amount","info"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Profile = () => {\r\n  const [fruits, setFruits] = useState([]);\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/fruits\").then((response) => setFruits(response.data));\r\n  }, []);\r\n\r\n  const userDelete = () => {\r\n    axios\r\n      .delete(\"/api/users/profile\", {\r\n        headers: {\r\n          \"auth-token\": userData.token,\r\n        },\r\n      })\r\n      .then((window.location = \"/fruitlist\"));\r\n\r\n    setUserData({\r\n      token: undefined,\r\n      user: undefined,\r\n    });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>User Profile of {userData.user.name}</h1>\r\n      <br />\r\n      <h5>\r\n        <b>User ID: </b>\r\n        {userData.user.id}\r\n      </h5>\r\n      <h5>\r\n        <b>Register Date: </b>\r\n        {userData.user.date.toString().slice(0, 10) +\r\n          \" @ \" +\r\n          userData.user.date.toString().slice(11, 19)}\r\n      </h5>\r\n      <br />\r\n      <h3>\r\n        <b>Fruits Added by {userData.user.name}:</b>\r\n      </h3>\r\n\r\n      <ul style={{ listStyleType: \"none\" }}>\r\n        {fruits\r\n          .filter((fruit) => {\r\n            if (fruit.addedBy === userData.user.name) {\r\n              return fruit;\r\n            }\r\n          })\r\n          .map((fruit) => {\r\n            return (\r\n              <li key={fruit._id}>\r\n                <Link to={`/fruit/${fruit._id}`}>\r\n                  <b>{fruit.name}</b>\r\n                </Link>{\" \"}\r\n                ({fruit.amount}) - {fruit.info}\r\n                &nbsp;[Added on{\" \"}\r\n                <i>\r\n                  {fruit.date.toString().slice(0, 10) +\r\n                    \" @ \" +\r\n                    fruit.date.toString().slice(11, 19)}\r\n                </i>\r\n                ]\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n\r\n      <Button className=\"btn btn-danger\" onClick={userDelete}>\r\n        Delete Account\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}